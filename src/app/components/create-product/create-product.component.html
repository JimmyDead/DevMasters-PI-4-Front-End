<div class="container">
  <h1>Cadastrar Produto</h1>
  <div class="caption">

    <form>
      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <label>Nome Produto</label>
            <input class="input" type="text" [(ngModel)]="product.title" name="title" placeholder="Nome do Produto">
          </div>
        </div>
        <div class="col">
          <div class="form-group">
            <label>Preço R$</label>
            <input class="input" type="number" name="price" [(ngModel)]="product.price" placeholder="Preço R$">
          </div>
        </div>
      </div>

      <div class="form-row">

        <div class="col">
          <div class="form-group">
            <label>Quantidade</label>
            <input class="input" type="number" name="quantity" [(ngModel)]="product.quantity" placeholder="Quantidade">
          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <label>Categoria</label>
            <input class="input" type="text" name="category" [(ngModel)]="product.category" placeholder="Categoria">
          </div>
        </div>

        <div class="col">
          <label>Status do Produto</label>
          <select class="browser-default custom-select" name="status" [(ngModel)]="product.status">
            <option *ngFor="let s of status" [value]="s">{{s === true ? 'Ativo' : 'Inativo'}}</option>
          </select>
        </div>

      </div>
      <!--fim row-->

      <div class="col-md-auto">
        <h2>Upload da Imagem</h2>
        <!--<input class="form-control" type="file" />-->

        <div *ngFor="let progressInfo of progressInfos" class="mb-2">
          <span>{{ progressInfo.fileName }}</span>
          <div class="progress">
            <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
              attr.aria-valuenow="{{ progressInfo.value }}" aria-valuemin="0" aria-valuemax="100"
              [ngStyle]="{ width: progressInfo.value + '%' }">
              {{ progressInfo.value }}%
            </div>
          </div>
        </div>
      </div>

      <span> Escolha uma ou mais imagem(s)</span>
      <br>
      <label class="btn btn-default">
        <input type="file" multiple (change)="selectFiles($event)" />
      </label>

      <div class="alert alert-light" role="alert">{{ message }}</div>

      <div class="card">
        <div class="card-header">Lista de Imagens</div>
        <ul class="list-group list-group-flush" *ngFor="let file of fileList;let i = index">
          <li class="list-group-item">
            <div class="form-check">
              <input class="form-check-input" type="radio" (change)="changeMainImage(i)" id="imagemPrincipal"
                name="imagemPrincipal">
              <label>Nome da imagem: {{file}}</label>
            </div>
          </li>
        </ul>
      </div>

      <br><br>

      <div class="form-group">
        <h2>Descrição do Produto</h2>
        <textarea [(ngModel)]="product.description" name="description" class="form-control" rows="3"></textarea>
      </div>

      <br><br>
      <button type="button" (click)="insertProduct()" class="btn btn-dark">Cadastrar Produto</button>
      <button type="button" (click)="cancel()" class="btn btn-danger">Cancelar</button>
    </form>
  </div>
</div>
