<div class="container">
  <h1>Atualizar Produto</h1>
  <div class="caption">

    <form>
      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <label>Nome Produto</label>
            <input class="input" type="text" [(ngModel)]="product.title" name="title" placeholder="Nome do Produto">
          </div>
        </div>
        <div class="col">
          <div class="form-group">
            <label>Preço R$</label>
            <input class="input" type="number" name="price" [(ngModel)]="product.price" placeholder="Preço R$">
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="col">
          <div class="form-group">
            <label>Quantidade</label>
            <input class="input" type="number" name="quantity" [(ngModel)]="product.quantity" placeholder="Quantidade">
          </div>
        </div>
        <div class="col">
          <div class="form-group">
            <label>Categoria</label>
            <input class="input" type="text" name="category" [(ngModel)]="product.category" placeholder="Categoria">
          </div>
        </div>
      </div>

      <h1>Imagens do Produto</h1>
      <div class="gallery text-center" *ngFor="let image of images">
        <img [src]="SERVICE_IMAGE + image + '&id=' + id" width="100px" height="100px">
      </div>


      <!--TESTE***************-->



      <!--TESTE***********************************-->


      <div class="col-3">
        <div class="col-md-auto">
          <div *ngFor="let progressInfo of progressInfos" class="progress-div">
            <span>{{ progressInfo.fileName }}</span>
            <div class="progress">
              <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
                attr.aria-valuenow="{{ progressInfo.value }}" aria-valuemin="0" aria-valuemax="100"
                [ngStyle]="{ width: progressInfo.value + '%' }">
                {{ progressInfo.value }}%
              </div>
            </div>
          </div>
        </div>


        <br>
        <div>
          <label class="btn btn-default">
            <span> Escolha uma ou mais imagem(s)</span>
            <input type="file" multiple (change)="selectFiles($event)" />
          </label>
        </div>
      </div>
      <div class="alert alert-light" role="alert">{{ message }}</div>

      <div class="card">
        <div class="card-header">Lista de Imagens</div>
        <ul class="list-group list-group-flush" *ngFor="let file of fileList;let i = index">
          <li class="list-group-item">
            <div class="form-check">
              <input class="form-check-input" type="radio" (change)="changeMainImage(i)" id="imagemPrincipal"
                name="imagemPrincipal">
              <label>Nome da imagem: {{file}}</label>
            </div>
          </li>
        </ul>
      </div>

      <br><br>

      <div class="form-group">
        <h2>Descrição do Produto</h2>
        <textarea [(ngModel)]="product.description" name="description" class="form-control" rows="3"></textarea>
      </div>

      <br><br>
      <button type="button" (click)="updateProduct()" class="btn btn-dark">Alterar Produto</button>
      <button type="button" (click)="cancel()" class="btn btn-danger">Cancelar</button>
    </form>
  </div>
</div>
